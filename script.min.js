var framePtr=null,excHandler=0,lastJSError=null,NTI536871071={size:0,kind:18,base:null,node:null,finalizer:null},NTI536871134={size:0,kind:18,base:null,node:null,finalizer:null},NTI33554435={size:0,kind:31,base:null,node:null,finalizer:null},NTI754974789={size:0,kind:18,base:null,node:null,finalizer:null},NTI33555179={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217746={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217742={size:0,kind:17,base:null,node:null,finalizer:null},NTI536870915={size:0,kind:14,base:null,node:null,finalizer:null},NTI536870923={size:0,kind:16,base:null,node:null,finalizer:null},NTI536870916={size:0,kind:16,base:null,node:null,finalizer:null},NTI134217745={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217749={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217751={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555173={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555181={size:0,kind:22,base:null,node:null,finalizer:null},NTI33554449={size:0,kind:28,base:null,node:null,finalizer:null},NTI33554450={size:0,kind:29,base:null,node:null,finalizer:null},NTI33555180={size:0,kind:22,base:null,node:null,finalizer:null},NTI33555177={size:0,kind:17,base:null,node:null,finalizer:null},NTI33555178={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217741={size:0,kind:17,base:null,node:null,finalizer:null},NTI134217743={size:0,kind:17,base:null,node:null,finalizer:null},NNI134217743={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217743.node=NNI134217743;var NNI134217741={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217741.node=NNI134217741;var NNI33555178={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555178.node=NNI33555178,NTI33555180.base=NTI33555177,NTI33555181.base=NTI33555177;var NNI33555177={kind:2,len:5,offset:0,typ:null,name:null,sons:[{kind:1,offset:"parent",len:0,typ:NTI33555180,name:"parent",sons:null},{kind:1,offset:"name",len:0,typ:NTI33554450,name:"name",sons:null},{kind:1,offset:"message",len:0,typ:NTI33554449,name:"msg",sons:null},{kind:1,offset:"trace",len:0,typ:NTI33554449,name:"trace",sons:null},{kind:1,offset:"up",len:0,typ:NTI33555181,name:"up",sons:null}]};NTI33555177.node=NNI33555177;var NNI33555173={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555173.node=NNI33555173,NTI33555177.base=NTI33555173,NTI33555178.base=NTI33555177,NTI134217741.base=NTI33555178,NTI134217743.base=NTI134217741;var NNI134217751={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217751.node=NNI134217751,NTI134217751.base=NTI33555178;var NNI134217749={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217749.node=NNI134217749,NTI134217749.base=NTI33555178;var NNI134217745={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217745.node=NNI134217745,NTI134217745.base=NTI33555178;var NNI536870915={kind:2,offset:0,typ:null,name:null,len:3,sons:{0:{kind:1,offset:0,typ:NTI536870915,name:"Empty",len:0,sons:null},1:{kind:1,offset:1,typ:NTI536870915,name:"X",len:0,sons:null},2:{kind:1,offset:2,typ:NTI536870915,name:"O",len:0,sons:null}}};NTI536870915.node=NNI536870915,NTI536870923.base=NTI536870915,NTI536870916.base=NTI536870923;var NNI134217742={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217742.node=NNI134217742,NTI134217742.base=NTI134217741;var NNI134217746={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217746.node=NNI134217746;var NNI33555179={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555179.node=NNI33555179,NTI33555179.base=NTI33555177,NTI134217746.base=NTI33555179;var NNI754974789={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"a",len:0,typ:NTI33554435,name:"a",sons:null},{kind:1,offset:"b",len:0,typ:NTI33554435,name:"b",sons:null}]};NTI754974789.node=NNI754974789;var NNI536871134={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"Field0",len:0,typ:NTI33554435,name:"Field0",sons:null},{kind:1,offset:"Field1",len:0,typ:NTI33554435,name:"Field1",sons:null}]};NTI536871134.node=NNI536871134;var NNI536871071={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"Field0",len:0,typ:NTI33554435,name:"Field0",sons:null},{kind:1,offset:"Field1",len:0,typ:NTI33554435,name:"Field1",sons:null}]};function mnewString(n){return Array(n)}function toJSStr(n){var _=null,e=newSeq_33556919(n.length),$=0,l=0;Label1:Label2:for(;;){if(!($<n.length))break Label2;var t=n[$];if(t<128)e[l]=String.fromCharCode(t),$+=1;else{var r=newSeq_33556919(0);Label3:Label4:for(;;){var a=t.toString(16);if((null==a?0:a.length)==1?r.push("%0"):r.push("%"),r.push(a),$+=1,n.length<=$||n[$]<128)break Label3;t=n[$]}++excHandler;try{e[l]=decodeURIComponent(r.join("")),--excHandler}catch(i){var o=lastJSError;lastJSError=i,--excHandler,e[l]=r.join(""),lastJSError=o}finally{}}l+=1}if(e.length<l)for(var c=e.length;c<l;++c)e.push(null);else e.length=l;return e.join("")}function raiseException(n,_){throw n.name=_,0==excHandler&&unhandledException(n),n}function addInt(n,_){var e=n+_;return checkOverflowInt(e),e}function chckRange(n,_,e){var $=0;BeforeRet:{if(_<=n&&n<=e){$=n;break BeforeRet}raiseRangeError()}return $}function setConstr(){for(var n={},_=0;_<arguments.length;++_){var e=arguments[_];if("object"==typeof e)for(var $=e[0];$<=e[1];++$)n[$]=!0;else n[e]=!0}return n}NTI536871071.node=NNI536871071;var ConstSet1=setConstr(17,16,4,18,27,19,23,22,21);function nimCopy(n,_,e){var $=null;switch(e.kind){case 21:case 22:case 23:case 5:$=isFatPointer_33557259(e)?[_[0],_[1]]:_;break;case 19:if(null==n)n={};else for(var l in n)delete n[l];for(var l in _)n[l]=_[l];$=n;break;case 18:case 17:$=null!=e.base?nimCopy(n,_,e.base):17==e.kind?null==n?{m_type:e}:n:null==n?{}:n,nimCopyAux($,_,e.node);break;case 4:case 16:if(ArrayBuffer.isView(_))null==n||n.length!=_.length?n=new _.constructor(_):n.set(_,0),$=n;else if(null===_)$=null;else{(null==n||n.length!=_.length)&&(n=Array(_.length)),$=n;for(var t=0;t<_.length;++t)$[t]=nimCopy($[t],_[t],e.base)}break;case 24:case 27:if(null===_)$=null;else{(null==n||n.length!=_.length)&&(n=Array(_.length)),$=n;for(var t=0;t<_.length;++t)$[t]=nimCopy($[t],_[t],e.base)}break;case 28:null!==_&&($=_.slice(0));break;default:$=_}return $}function chckIndx(n,_,e){var $=0;BeforeRet:{if(_<=n&&n<=e){$=n;break BeforeRet}raiseIndexError(n,_,e)}return $}function makeNimstrLit(n){for(var _=[],e=0;e<n.length;++e)_[e]=n.charCodeAt(e);return _}var ConstSet2=setConstr([48,57]),ConstSet3=setConstr([48,57]);function divInt64(n,_){return 0n==_&&raiseDivByZero(),_==-1n&&0x7fffffffffffffffn==n&&raiseOverflow(),n/_}function cstrToNimstr(n){for(var _=n.length,e=Array(_),$=0,l=0;l<_;++l){var t=n.charCodeAt(l);t<128?e[$]=t:(t<2048?e[$]=t>>6|192:(t<55296||t>=57344?e[$]=t>>12|224:(++l,t=65536+((1023&t)<<10|1023&n.charCodeAt(l)),e[$]=t>>18|240,e[++$]=t>>12&63|128),e[++$]=t>>6&63|128),e[++$]=63&t|128),++$}return e}function reprEnum(n,_){var e=[],$=!1,l=_.node.sons[n];return($=void 0!==l)?nimCopy(null,makeNimstrLit(l.name),NTI33554449):nimCopy(null,(HEX24_369098760(n)||[]).concat([32,40,105,110,118,97,108,105,100,32,100,97,116,97,33,41]),NTI33554449)}function subInt(n,_){var e=n-_;return checkOverflowInt(e),e}function rawEcho(){for(var n="",_=0;_<arguments.length;++_)n+=toJSStr(arguments[_]);console.log(n)}function eqStrings(n,_){if(n==_||null===n&&0==_.length||null===_&&0==n.length)return!0;if(!n||!_)return!1;var e=n.length;if(e!=_.length)return!1;for(var $=0;$<e;++$)if(n[$]!=_[$])return!1;return!0}function add_33556373(n,_,e){null===n[_]&&(n[_]=[]);var $=n[_].length;n[_].length+=e.length;for(var l=0;l<e.length;++l)n[_][$+l]=e.charCodeAt(l)}function newSeq_33556919(n){var _=[];_=Array(n);for(var e=0;e<n;++e)_[e]=null;return _}function unhandledException(n){var _=[[]];0!=n.message.length?(_[0].push.apply(_[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110,58,32]),_[0].push.apply(_[0],n.message)):_[0].push.apply(_[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110]),_[0].push.apply(_[0],[32,91]),add_33556373(_,0,n.name),_[0].push.apply(_[0],[93,10]);var e=toJSStr(_[0]);if("undefined"!=typeof Error)throw Error(e);throw e}function raiseOverflow(){raiseException({message:[111,118,101,114,45,32,111,114,32,117,110,100,101,114,102,108,111,119],parent:null,m_type:NTI134217743,name:null,trace:[],up:null},"OverflowDefect")}function checkOverflowInt(n){(n>2147483647||n<-2147483648)&&raiseOverflow()}function raiseRangeError(){raiseException({message:[118,97,108,117,101,32,111,117,116,32,111,102,32,114,97,110,103,101],parent:null,m_type:NTI134217751,name:null,trace:[],up:null},"RangeDefect")}function addChars_301990090(n,_,e,$,l){var t,r=n[_].length;if(n[_].length<(t=chckRange(addInt(r,l),0,2147483647)))for(var a=n[_].length;a<t;++a)n[_].push(0);else n[_].length=t;Label2:{var i=0,o=0;Label3:Label4:for(;;){if(!(o<l))break Label4;i=o,n[_][chckIndx(addInt(r,i),0,n[_].length-1)]=e.charCodeAt(chckIndx(addInt($,i),0,e.length-1)),o=addInt(o,1)}}}function addChars_301990086(n,_,e){addChars_301990090(n,_,e,0,null==e?0:e.length)}function addInt_301990111(n,_,e){addChars_301990086(n,_,e+"")}function addInt_301990129(n,_,e){addInt_301990111(n,_,BigInt(e))}function HEX24_369098760(n){var _=[[]];return addInt_301990129(_,0,n),_[0]}function isFatPointer_33557259(n){var _=!1;BeforeRet:{_=!(void 0!=ConstSet1[n.base.kind]);break BeforeRet}return _}function nimCopyAux(n,_,e){switch(e.kind){case 0:break;case 1:n[e.offset]=nimCopy(n[e.offset],_[e.offset],e.typ);break;case 2:for(var $=0;$<e.sons.length;$++)nimCopyAux(n,_,e.sons[$]);break;case 3:n[e.offset]=nimCopy(n[e.offset],_[e.offset],e.typ);for(var $=0;$<e.sons.length;++$)nimCopyAux(n,_,e.sons[$][1])}}function raiseIndexError(n,_,e){var $;$=e<_?[105,110,100,101,120,32,111,117,116,32,111,102,32,98,111,117,110,100,115,44,32,116,104,101,32,99,111,110,116,97,105,110,101,114,32,105,115,32,101,109,112,116,121]:[105,110,100,101,120,32].concat(HEX24_369098760(n)||[],[32,110,111,116,32,105,110,32],HEX24_369098760(_)||[],[32,46,46,32],HEX24_369098760(e)||[]),raiseException({message:nimCopy(null,$,NTI33554449),parent:null,m_type:NTI134217749,name:null,trace:[],up:null},"IndexDefect")}function sysFatal_268435501(n){raiseException({message:nimCopy(null,n,NTI33554449),m_type:NTI134217745,parent:null,name:null,trace:[],up:null},"AssertionDefect")}function raiseAssert_268435499(n){sysFatal_268435501(n)}function failedAssertImpl_268435541(n){raiseAssert_268435499(n)}function restart(){var n=document.getElementsByClassName("button-option");Label1:{var _=null,e=0,$=n.length;Label2:Label3:for(;;){if(!(e<$))break Label3;(_=n[chckIndx(e,0,n.length-1)]).innerText="",_.disabled=!1,_.style.color="rgb(209, 97, 255)",e=addInt(e,1),n.length!=$&&failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}board_536870926[0]=nimCopy(board_536870926[0],[new Uint8Array([0,0,0]),new Uint8Array([0,0,0]),new Uint8Array([0,0,0])],NTI536870916)}function raiseDivByZero(){raiseException({message:[100,105,118,105,115,105,111,110,32,98,121,32,122,101,114,111],parent:null,m_type:NTI134217742,name:null,trace:[],up:null},"DivByZeroDefect")}function integerOutOfRangeError_721420613(){raiseException({message:[80,97,114,115,101,100,32,105,110,116,101,103,101,114,32,111,117,116,115,105,100,101,32,111,102,32,118,97,108,105,100,32,114,97,110,103,101],parent:null,m_type:NTI134217746,name:null,trace:[],up:null},"ValueError")}function rawParseInt_721420651(n,_,e){var $,l,t=0,r=-1n,a=0;if(a<n.length&&(43==n[chckIndx(a,0,n.length-1)]?a+=1:45==n[chckIndx(a,0,n.length-1)]&&(a+=1,r=1n)),$=a<n.length&&void 0!=ConstSet2[n[chckIndx(a,0,n.length-1)]]){_[e]=0n;Label2:Label3:for(;;){if(!(l=a<n.length&&void 0!=ConstSet3[n[chckIndx(a,0,n.length-1)]]))break Label3;var i=n[chckIndx(a,0,n.length-1)]-48;(-0x8000000000000000n+BigInt(i))/10n<=_[e]?_[e]=10n*_[e]-BigInt(i):integerOutOfRangeError_721420613(),a+=1;Label5:Label6:for(;;){if(!(a<n.length&&95==n[chckIndx(a,0,n.length-1)]))break Label6;a+=1}}r==-1n&&_[e]==-0x8000000000000000n?integerOutOfRangeError_721420613():(_[e]=_[e]*r,t=a)}return t}function npuParseBiggestInt(n,_,e){var $=0,l=[0n];return 0!=($=rawParseInt_721420651(n,l,0))&&(_[e]=l[0]),$}function npuParseInt(n,_,e){var $=0,l=[0n];return $=npuParseBiggestInt(n,l,0),(l[0]<-2147483648n||2147483647n<l[0])&&integerOutOfRangeError_721420613(),0!=$&&(_[e]=chckRange(Number(l[0]),-2147483648,2147483647)),$}function parseInt_721421231(n,_,e,$){var l=0;return npuParseInt(n.slice($,n.length-1+1),_,e)}function nsuParseInt(n){var _=[0];_[0]=0;var e=parseInt_721421231(n,_,0,0);return(e!=n.length||0==e)&&raiseException({message:[105,110,118,97,108,105,100,32,105,110,116,101,103,101,114,58,32].concat(n||[]),parent:null,m_type:NTI134217746,name:null,trace:[],up:null},"ValueError"),_[0]}function contains_536871264(n,_){var e=!1;return n.a<=_&&_<=n.b}function HEX2EHEX2E_1023410224(n,_){var e={a:0,b:0};return nimCopy(e,{a:n,b:_},NTI754974789)}function rowcolFromIdx_536871254(n){var _,e={Field0:0,Field1:0};return _=contains_536871264(HEX2EHEX2E_1023410224(0,2),n)?{Field0:0,Field1:n}:contains_536871264(HEX2EHEX2E_1023410224(3,5),n)?{Field0:1,Field1:subInt(n,3)}:{Field0:2,Field1:subInt(n,6)},e=nimCopy(e,_,NTI536871134)}function updateInternalBoard_536871284(n){var _=document.getElementsByClassName("button-option");Label1:{var e=0,$=0;Label2:Label3:for(;;){if(!($<=8))break Label3;var l=rowcolFromIdx_536871254(e=$),t=l.Field0,r=l.Field1;switch(toJSStr(cstrToNimstr(_[chckIndx(e,0,_.length-1)].innerText))){case"X":board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)][chckIndx(r,0,board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)].length-1)]=1;break;case"O":board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)][chckIndx(r,0,board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)].length-1)]=2;break;default:board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)][chckIndx(r,0,board_536870926[0][chckIndx(t,0,board_536870926[0].length-1)].length-1)]=0}$=addInt($,1)}}}function addQuoted_536871457(n,_,e){n[_].push.apply(n[_],reprEnum(e,NTI536870915))}function collectionToString_536871441(n,_,e,$){var l=[[]];l[0]=nimCopy(null,_,NTI33554449);var t=!0;Label1:{var r=0,a=0;Label2:Label3:for(;;){if(r=n[a],t?t=!1:l[0].push.apply(l[0],e),addQuoted_536871457(l,0,r),2<=a)break Label2;a+=1}}return l[0].push.apply(l[0],$),l[0]}function HEX24_536871436(n){var _=[];return nimCopy(null,collectionToString_536871441(n,[91],[44,32],[93]),NTI33554449)}function addQuoted_536871428(n,_,e){n[_].push.apply(n[_],HEX24_536871436(e))}function collectionToString_536871412(n,_,e,$){var l=[[]];l[0]=nimCopy(null,_,NTI33554449);var t=!0;Label1:{var r=new Uint8Array(3),a=0;Label2:Label3:for(;;){if(r=nimCopy(r,n[a],NTI536870923),t?t=!1:l[0].push.apply(l[0],e),addQuoted_536871428(l,0,r),2<=a)break Label2;a+=1}}return l[0].push.apply(l[0],$),l[0]}function HEX24_536871407(n){var _=[];return nimCopy(null,collectionToString_536871412(n,[91],[44,32],[93]),NTI33554449)}function HEX3DHEX3D_536870960(n,_){var e=!1;BeforeRet:{Label1:{var $=0,l=0;Label2:Label3:for(;;){if(!(l<=2))break Label3;if(n[chckIndx($=chckRange(l,0,2),0,n.length-1)]!=_[chckIndx($,0,_.length-1)])break BeforeRet;l=addInt(l,1)}}e=!0}return e}function checkWin_536870929(n,_){var e=!1;BeforeRet:{Label1:{var $=new Uint8Array(3),l=0;Label2:Label3:for(;;){if($=nimCopy($,n[chckIndx(l,0,n.length-1)],NTI536870923),HEX3DHEX3D_536870960($,new Uint8Array([_,_,_]))){e=!0;break BeforeRet}if(2<=l)break Label2;l=addInt(l,1)}}Label4:{var t=0,r=0;Label5:Label6:for(;;){if(!(r<=2))break Label6;if(t=r,n[chckIndx(0,0,n.length-1)][chckIndx(t,0,n[chckIndx(0,0,n.length-1)].length-1)]==_&&n[chckIndx(1,0,n.length-1)][chckIndx(t,0,n[chckIndx(1,0,n.length-1)].length-1)]==_&&n[chckIndx(2,0,n.length-1)][chckIndx(t,0,n[chckIndx(2,0,n.length-1)].length-1)]==_){e=!0;break BeforeRet}r=addInt(r,1)}}if(n[chckIndx(0,0,n.length-1)][chckIndx(0,0,n[chckIndx(0,0,n.length-1)].length-1)]==_&&n[chckIndx(1,0,n.length-1)][chckIndx(1,0,n[chckIndx(1,0,n.length-1)].length-1)]==_&&n[chckIndx(2,0,n.length-1)][chckIndx(2,0,n[chckIndx(2,0,n.length-1)].length-1)]==_||n[chckIndx(0,0,n.length-1)][chckIndx(2,0,n[chckIndx(0,0,n.length-1)].length-1)]==_&&n[chckIndx(1,0,n.length-1)][chckIndx(1,0,n[chckIndx(1,0,n.length-1)].length-1)]==_&&n[chckIndx(2,0,n.length-1)][chckIndx(0,0,n[chckIndx(2,0,n.length-1)].length-1)]==_){e=!0;break BeforeRet}}return e}function emptyCells_536871064(n){var _=0;Label1:{var e=new Uint8Array(3),$=0;Label2:Label3:for(;;){e=nimCopy(e,n[chckIndx($,0,n.length-1)],NTI536870923);Label4:{var l=0,t=0;Label5:Label6:for(;;){if(0==(l=e[chckIndx(t,0,e.length-1)])&&(_=addInt(_,1)),2<=t)break Label5;t=addInt(t,1)}}if(2<=$)break Label2;$=addInt($,1)}}return _}function checkDraw_536871124(n){var _=!1;return 0==emptyCells_536871064(n)}function gameEnded_536871189(){var n=!1;return checkWin_536870929(board_536870926[0],computer_536870928[0])||checkWin_536870929(board_536870926[0],player_536870927[0])||checkDraw_536871124(board_536870926[0])}function max_33555631(n,_){var e,$=0;return _<=n||_!=_?n:_}function min_33555598(n,_){var e,$=0;return n<=_||_!=_?n:_}function minimax_536871127(n,_,e,$){var l=0;BeforeRet:{var t=nimCopy(null,n,NTI536870916);if(checkWin_536870929(t,computer_536870928[0])){l=1*addInt(emptyCells_536871064(t),1);break BeforeRet}if(checkWin_536870929(t,player_536870927[0])){l=-1*addInt(emptyCells_536871064(t),1);break BeforeRet}if(checkDraw_536871124(t)||_==$){l=0;break BeforeRet}if(e){var r=-1/0;Label1:{var a=0,i=0;Label2:Label3:for(;;){if(!(i<=2))break Label3;a=i;Label4:{var o=0,c=0;Label5:Label6:for(;;){if(!(c<=2))break Label6;if(o=c,0==t[chckIndx(a,0,t.length-1)][chckIndx(o,0,t[chckIndx(a,0,t.length-1)].length-1)]){t[chckIndx(a,0,t.length-1)][chckIndx(o,0,t[chckIndx(a,0,t.length-1)].length-1)]=computer_536870928[0];var d=minimax_536871127(t,addInt(_,1),!1,$);t[chckIndx(a,0,t.length-1)][chckIndx(o,0,t[chckIndx(a,0,t.length-1)].length-1)]=0,r=max_33555631(r,d)}c=addInt(c,1)}}i=addInt(i,1)}}l=r;break BeforeRet}var s=1/0;Label7:{var u=0,h=0;Label8:Label9:for(;;){if(!(h<=2))break Label9;u=h;Label10:{var f=0,I=0;Label11:Label12:for(;;){if(!(I<=2))break Label12;if(f=I,0==t[chckIndx(u,0,t.length-1)][chckIndx(f,0,t[chckIndx(u,0,t.length-1)].length-1)]){t[chckIndx(u,0,t.length-1)][chckIndx(f,0,t[chckIndx(u,0,t.length-1)].length-1)]=player_536870927[0];var g=minimax_536871127(t,addInt(_,1),!0,$);t[chckIndx(u,0,t.length-1)][chckIndx(f,0,t[chckIndx(u,0,t.length-1)].length-1)]=0,s=min_33555598(s,g)}I=addInt(I,1)}}h=addInt(h,1)}}l=s;break BeforeRet}return l}function getOptimalMove_536871166(n,_){var e={Field0:0,Field1:0},$=nimCopy(null,n,NTI536870916),l=-1/0;Label1:{var t=0,r=0;Label2:Label3:for(;;){if(!(r<=2))break Label3;t=r;Label4:{var a=0,i=0;Label5:Label6:for(;;){if(!(i<=2))break Label6;a=i;Label7:if(0==$[chckIndx(t,0,$.length-1)][chckIndx(a,0,$[chckIndx(t,0,$.length-1)].length-1)]){$[chckIndx(t,0,$.length-1)][chckIndx(a,0,$[chckIndx(t,0,$.length-1)].length-1)]=computer_536870928[0];var o=minimax_536871127($,0,!1,_);$[chckIndx(t,0,$.length-1)][chckIndx(a,0,$[chckIndx(t,0,$.length-1)].length-1)]=0,l<o&&(l=o,e=nimCopy(e,{Field0:t,Field1:a},NTI536871071))}i=addInt(i,1)}}r=addInt(r,1)}}return e}function displayBoard_536871295(n){var _=document.getElementsByClassName("button-option");Label1:{var e=0,$=0;Label2:Label3:for(;;){if(!($<=8))break Label3;var l=rowcolFromIdx_536871254(e=$),t=l.Field0,r=l.Field1;switch(n[chckIndx(t,0,n.length-1)][chckIndx(r,0,n[chckIndx(t,0,n.length-1)].length-1)]){case 1:_[chckIndx(e,0,_.length-1)].innerText="X";break;case 2:_[chckIndx(e,0,_.length-1)].innerText="O";break;default:_[chckIndx(e,0,_.length-1)].innerText=""}$=addInt($,1)}}}function disableBoard_536871191(){var n=document.getElementsByClassName("button-option");Label1:{var _=null,e=0,$=n.length;Label2:Label3:for(;;){if(!(e<$))break Label3;(_=n[chckIndx(e,0,n.length-1)]).disabled=!0,e=addInt(e,1),n.length!=$&&failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}function victoryHighlight_536871310(n){var _=document.getElementsByClassName("button-option");Label1:{var e=null,$=0,l=_.length;Label2:Label3:for(;;){if(!($<l))break Label3;e=_[chckIndx($,0,_.length-1)],(eqStrings(cstrToNimstr(e.innerText),reprEnum(n,NTI536870915))||0==n)&&(2==n?e.style.color="cyan":1==n?e.style.color="red":e.style.color="#C8C8C8"),$=addInt($,1),_.length!=l&&failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}function gameEnd_536871332(){gameEnded_536871189()&&(disableBoard_536871191(),checkWin_536870929(board_536870926[0],player_536870927[0])?(confetti.start(2e3,0|minConfetti,0|maxConfetti),victoryHighlight_536871310(player_536870927[0]),rawEcho([89,111,117,32,104,97,118,101,32,119,111,110,33])):checkWin_536870929(board_536870926[0],computer_536870928[0])?(confetti.start(2e3,0|minConfetti,0|maxConfetti),victoryHighlight_536871310(computer_536870928[0]),rawEcho([84,104,101,32,65,73,32,104,97,115,32,119,111,110,33])):(confetti.start(500,0,15),victoryHighlight_536871310(0),rawEcho([84,104,101,32,103,97,109,101,32,104,97,115,32,101,110,100,101,100,32,105,110,32,97,32,100,114,97,119,33])))}function HEX3Aanonymous_536871338(n){BeforeRet:if(""==n.target.innerText){var _=nsuParseInt(cstrToNimstr(document.getElementById("depth").value));n.target.innerText=toJSStr(reprEnum(player_536870927[0],NTI536870915)),updateInternalBoard_536871284(board_536870926[0]),rawEcho(HEX24_536871407(board_536870926[0])),n.target.disabled=!0,setTimeout(function n(){BeforeRet:if(!gameEnded_536871189()){var e=getOptimalMove_536871166(board_536870926[0],_);board_536870926[0][chckIndx(e.Field0,0,board_536870926[0].length-1)][chckIndx(e.Field1,0,board_536870926[0][chckIndx(e.Field0,0,board_536870926[0].length-1)].length-1)]=computer_536870928[0],displayBoard_536871295(board_536870926[0]),rawEcho(HEX24_536871407(board_536870926[0])),gameEnd_536871332()}},400),gameEnd_536871332()}}var maxConfetti=400,minConfetti=200,board_536870926=[[new Uint8Array(3),new Uint8Array(3),new Uint8Array(3)]],player_536870927=[2],computer_536870928=[1],cells_536871333=document.getElementsByClassName("button-option");Label1:{var n=[null],_=0,e=cells_536871333.length;Label2:Label3:for(;;){if(!(_<e))break Label3;n[0]=cells_536871333[chckIndx(_,0,cells_536871333.length-1)],n[0].addEventListener("click",HEX3Aanonymous_536871338,!1),_=addInt(_,1),cells_536871333.length!=e&&failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}