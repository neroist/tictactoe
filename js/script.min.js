var framePtr=null;var excHandler=0;var lastJSError=null;var NTI536871071={size:0,kind:18,base:null,node:null,finalizer:null};var NTI536871139={size:0,kind:18,base:null,node:null,finalizer:null};var NTI33554435={size:0,kind:31,base:null,node:null,finalizer:null};var NTI754974789={size:0,kind:18,base:null,node:null,finalizer:null};var NTI33555179={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217746={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217742={size:0,kind:17,base:null,node:null,finalizer:null};var NTI536870915={size:0,kind:14,base:null,node:null,finalizer:null};var NTI536870923={size:0,kind:16,base:null,node:null,finalizer:null};var NTI536870916={size:0,kind:16,base:null,node:null,finalizer:null};var NTI134217745={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217749={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217751={size:0,kind:17,base:null,node:null,finalizer:null};var NTI33555173={size:0,kind:17,base:null,node:null,finalizer:null};var NTI33555181={size:0,kind:22,base:null,node:null,finalizer:null};var NTI33554449={size:0,kind:28,base:null,node:null,finalizer:null};var NTI33554450={size:0,kind:29,base:null,node:null,finalizer:null};var NTI33555180={size:0,kind:22,base:null,node:null,finalizer:null};var NTI33555177={size:0,kind:17,base:null,node:null,finalizer:null};var NTI33555178={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217741={size:0,kind:17,base:null,node:null,finalizer:null};var NTI134217743={size:0,kind:17,base:null,node:null,finalizer:null};var NNI134217743={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217743.node=NNI134217743;var NNI134217741={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217741.node=NNI134217741;var NNI33555178={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555178.node=NNI33555178;NTI33555180.base=NTI33555177;NTI33555181.base=NTI33555177;var NNI33555177={kind:2,len:5,offset:0,typ:null,name:null,sons:[{kind:1,offset:"parent",len:0,typ:NTI33555180,name:"parent",sons:null},{kind:1,offset:"name",len:0,typ:NTI33554450,name:"name",sons:null},{kind:1,offset:"message",len:0,typ:NTI33554449,name:"msg",sons:null},{kind:1,offset:"trace",len:0,typ:NTI33554449,name:"trace",sons:null},{kind:1,offset:"up",len:0,typ:NTI33555181,name:"up",sons:null}]};NTI33555177.node=NNI33555177;var NNI33555173={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555173.node=NNI33555173;NTI33555177.base=NTI33555173;NTI33555178.base=NTI33555177;NTI134217741.base=NTI33555178;NTI134217743.base=NTI134217741;var NNI134217751={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217751.node=NNI134217751;NTI134217751.base=NTI33555178;var NNI134217749={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217749.node=NNI134217749;NTI134217749.base=NTI33555178;var NNI134217745={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217745.node=NNI134217745;NTI134217745.base=NTI33555178;var NNI536870915={kind:2,offset:0,typ:null,name:null,len:3,sons:{0:{kind:1,offset:0,typ:NTI536870915,name:"Empty",len:0,sons:null},1:{kind:1,offset:1,typ:NTI536870915,name:"X",len:0,sons:null},2:{kind:1,offset:2,typ:NTI536870915,name:"O",len:0,sons:null}}};NTI536870915.node=NNI536870915;NTI536870923.base=NTI536870915;NTI536870916.base=NTI536870923;var NNI134217742={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217742.node=NNI134217742;NTI134217742.base=NTI134217741;var NNI134217746={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI134217746.node=NNI134217746;var NNI33555179={kind:2,len:0,offset:0,typ:null,name:null,sons:[]};NTI33555179.node=NNI33555179;NTI33555179.base=NTI33555177;NTI134217746.base=NTI33555179;var NNI754974789={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"a",len:0,typ:NTI33554435,name:"a",sons:null},{kind:1,offset:"b",len:0,typ:NTI33554435,name:"b",sons:null}]};NTI754974789.node=NNI754974789;var NNI536871139={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"Field0",len:0,typ:NTI33554435,name:"Field0",sons:null},{kind:1,offset:"Field1",len:0,typ:NTI33554435,name:"Field1",sons:null}]};NTI536871139.node=NNI536871139;var NNI536871071={kind:2,len:2,offset:0,typ:null,name:null,sons:[{kind:1,offset:"Field0",len:0,typ:NTI33554435,name:"Field0",sons:null},{kind:1,offset:"Field1",len:0,typ:NTI33554435,name:"Field1",sons:null}]};NTI536871071.node=NNI536871071;function mnewString(n){var e=new Array(n);for(var l=0;l<n;l++){e[l]=0}return e}function toJSStr(n){var e=null;var l=newSeq_33556919(n.length);var r=0;var t=0;n:{e:while(true){if(!(r<n.length))break e;var a=n[r];if(a<128){l[t]=String.fromCharCode(a);r+=1}else{var i=newSeq_33556919(0);l:{r:while(true){if(!true)break r;var o=a.toString(16);if((o==null?0:o.length)==1){i.push("%0")}else{i.push("%")}i.push(o);r+=1;if(n.length<=r||n[r]<128){break l}a=n[r]}}++excHandler;try{l[t]=decodeURIComponent(i.join(""));--excHandler}catch(n){var s=lastJSError;lastJSError=n;--excHandler;l[t]=i.join("");lastJSError=s}finally{}}t+=1}}if(l.length<t){for(var d=l.length;d<t;++d)l.push(null)}else{l.length=t}e=l.join("");return e}function raiseException(n,e){n.name=e;if(excHandler==0){unhandledException(n)}throw n}function addInt(n,e){var l=n+e;checkOverflowInt(l);return l}function chckRange(n,e,l){var r=0;n:{if(e<=n&&n<=l){r=n;break n}else{raiseRangeError()}}return r}function setConstr(){var n={};for(var e=0;e<arguments.length;++e){var l=arguments[e];if(typeof l=="object"){for(var r=l[0];r<=l[1];++r){n[r]=true}}else{n[l]=true}}return n}var ConstSet1=setConstr(17,16,4,18,27,19,23,22,21);function nimCopy(n,e,l){var r=null;switch(l.kind){case 21:case 22:case 23:case 5:if(!isFatPointer_33557259(l)){r=e}else{r=[e[0],e[1]]}break;case 19:if(n===null||n===undefined){n={}}else{for(var t in n){delete n[t]}}for(var t in e){n[t]=e[t]}r=n;break;case 18:case 17:if(!(l.base==null)){r=nimCopy(n,e,l.base)}else{if(l.kind==17){r=n===null||n===undefined?{m_type:l}:n}else{r=n===null||n===undefined?{}:n}}nimCopyAux(r,e,l.node);break;case 4:case 16:if(ArrayBuffer.isView(e)){if(n===null||n===undefined||n.length!=e.length){n=new e.constructor(e)}else{n.set(e,0)}r=n}else{if(e===null){r=null}else{if(n===null||n===undefined||n.length!=e.length){n=new Array(e.length)}r=n;for(var a=0;a<e.length;++a){r[a]=nimCopy(r[a],e[a],l.base)}}}break;case 24:case 27:if(e===null){r=null}else{if(n===null||n===undefined||n.length!=e.length){n=new Array(e.length)}r=n;for(var a=0;a<e.length;++a){r[a]=nimCopy(r[a],e[a],l.base)}}break;case 28:if(e!==null){r=e.slice(0)}break;default:r=e;break}return r}function chckIndx(n,e,l){var r=0;n:{if(e<=n&&n<=l){r=n;break n}else{raiseIndexError(n,e,l)}}return r}function makeNimstrLit(n){var e=[];for(var l=0;l<n.length;++l){e[l]=n.charCodeAt(l)}return e}var ConstSet2=setConstr([48,57]);var ConstSet3=setConstr([48,57]);function divInt64(n,e){if(e==0n)raiseDivByZero();if(e==-1n&&n==9223372036854775807n)raiseOverflow();return n/e}function cstrToNimstr(n){var e=n.length;var l=new Array(e);var r=0;for(var t=0;t<e;++t){var a=n.charCodeAt(t);if(a<128){l[r]=a}else{if(a<2048){l[r]=a>>6|192}else{if(a<55296||a>=57344){l[r]=a>>12|224}else{++t;a=65536+((a&1023)<<10|n.charCodeAt(t)&1023);l[r]=a>>18|240;++r;l[r]=a>>12&63|128}++r;l[r]=a>>6&63|128}++r;l[r]=a&63|128}++r}return l}function reprEnum(n,e){var l=[];var r=false;var t=e.node.sons[n];r=t!==undefined;if(r){l=nimCopy(null,makeNimstrLit(t.name),NTI33554449)}else{l=nimCopy(null,(HEX24_369098760(n)||[]).concat([32,40,105,110,118,97,108,105,100,32,100,97,116,97,33,41]||[]),NTI33554449)}return l}function subInt(n,e){var l=n-e;checkOverflowInt(l);return l}function rawEcho(){var n="";for(var e=0;e<arguments.length;++e){n+=toJSStr(arguments[e])}console.log(n)}function eqStrings(n,e){if(n==e)return true;if(n===null&&e.length==0)return true;if(e===null&&n.length==0)return true;if(!n||!e)return false;var l=n.length;if(l!=e.length)return false;for(var r=0;r<l;++r)if(n[r]!=e[r])return false;return true}function add_33556373(n,e,l){if(n[e]===null){n[e]=[]}var r=n[e].length;n[e].length+=l.length;for(var t=0;t<l.length;++t){n[e][r+t]=l.charCodeAt(t)}}function newSeq_33556919(n){var e=[];e=new Array(n);for(var l=0;l<n;++l){e[l]=null}return e}function unhandledException(n){var e=[[]];if(!(n.message.length==0)){e[0].push.apply(e[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110,58,32]);e[0].push.apply(e[0],n.message)}else{e[0].push.apply(e[0],[69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110])}e[0].push.apply(e[0],[32,91]);add_33556373(e,0,n.name);e[0].push.apply(e[0],[93,10]);var l=toJSStr(e[0]);if(typeof Error!=="undefined"){throw new Error(l)}else{throw l}}function raiseOverflow(){raiseException({message:[111,118,101,114,45,32,111,114,32,117,110,100,101,114,102,108,111,119],parent:null,m_type:NTI134217743,name:null,trace:[],up:null},"OverflowDefect")}function checkOverflowInt(n){if(n>2147483647||n<-2147483648)raiseOverflow()}function raiseRangeError(){raiseException({message:[118,97,108,117,101,32,111,117,116,32,111,102,32,114,97,110,103,101],parent:null,m_type:NTI134217751,name:null,trace:[],up:null},"RangeDefect")}function addChars_301990090(n,e,l,r,t){var a;var i=n[e].length;if(n[e].length<(a=chckRange(addInt(i,t),0,2147483647),a)){for(var o=n[e].length;o<a;++o)n[e].push(0)}else{n[e].length=a}n:{var s=0;var d=0;e:{l:while(true){if(!(d<t))break l;s=d;n[e][chckIndx(addInt(i,s),0,n[e].length-1)]=l.charCodeAt(chckIndx(addInt(r,s),0,l.length-1));d=addInt(d,1)}}}}function addChars_301990086(n,e,l){addChars_301990090(n,e,l,0,l==null?0:l.length)}function addInt_301990111(n,e,l){addChars_301990086(n,e,l+"")}function addInt_301990129(n,e,l){addInt_301990111(n,e,BigInt(l))}function HEX24_369098760(n){var e=[[]];addInt_301990129(e,0,n);return e[0]}function isFatPointer_33557259(n){var e=false;n:{e=!(ConstSet1[n.base.kind]!=undefined);break n}return e}function nimCopyAux(n,e,l){switch(l.kind){case 0:break;case 1:n[l.offset]=nimCopy(n[l.offset],e[l.offset],l.typ);break;case 2:for(var r=0;r<l.sons.length;r++){nimCopyAux(n,e,l.sons[r])}break;case 3:n[l.offset]=nimCopy(n[l.offset],e[l.offset],l.typ);for(var r=0;r<l.sons.length;++r){nimCopyAux(n,e,l.sons[r][1])}break}}function raiseIndexError(n,e,l){var r;if(l<e){r=[105,110,100,101,120,32,111,117,116,32,111,102,32,98,111,117,110,100,115,44,32,116,104,101,32,99,111,110,116,97,105,110,101,114,32,105,115,32,101,109,112,116,121]}else{r=([105,110,100,101,120,32]||[]).concat(HEX24_369098760(n)||[],[32,110,111,116,32,105,110,32]||[],HEX24_369098760(e)||[],[32,46,46,32]||[],HEX24_369098760(l)||[])}raiseException({message:nimCopy(null,r,NTI33554449),parent:null,m_type:NTI134217749,name:null,trace:[],up:null},"IndexDefect")}function sysFatal_268435501(n){raiseException({message:nimCopy(null,n,NTI33554449),m_type:NTI134217745,parent:null,name:null,trace:[],up:null},"AssertionDefect")}function raiseAssert_268435499(n){sysFatal_268435501(n)}function failedAssertImpl_268435541(n){raiseAssert_268435499(n)}function restart(){var n=document.getElementsByClassName("button-option");n:{var e=null;var l=0;var r=n.length;e:{l:while(true){if(!(l<r))break l;e=n[chckIndx(l,0,n.length-1)];e.innerText="";e.disabled=false;e.style.color="rgb(209, 97, 255)";l=addInt(l,1);if(!(n.length==r)){failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}}board_536870926[0]=nimCopy(board_536870926[0],[new Uint8Array([0,0,0]),new Uint8Array([0,0,0]),new Uint8Array([0,0,0])],NTI536870916)}function raiseDivByZero(){raiseException({message:[100,105,118,105,115,105,111,110,32,98,121,32,122,101,114,111],parent:null,m_type:NTI134217742,name:null,trace:[],up:null},"DivByZeroDefect")}function integerOutOfRangeError_721420613(){raiseException({message:[80,97,114,115,101,100,32,105,110,116,101,103,101,114,32,111,117,116,115,105,100,101,32,111,102,32,118,97,108,105,100,32,114,97,110,103,101],parent:null,m_type:NTI134217746,name:null,trace:[],up:null},"ValueError")}function rawParseInt_721420651(n,e,l){var r;var t;var a=0;var i=-1n;var o=0;if(o<n.length){if(n[chckIndx(o,0,n.length-1)]==43){o+=1}else{if(n[chckIndx(o,0,n.length-1)]==45){o+=1;i=1n}}}if(!(o<n.length))r=false;else{r=ConstSet2[n[chckIndx(o,0,n.length-1)]]!=undefined}if(r){e[l]=0n;n:{e:while(true){if(!(o<n.length))t=false;else{t=ConstSet3[n[chckIndx(o,0,n.length-1)]]!=undefined}if(!t)break e;var s=n[chckIndx(o,0,n.length-1)]-48;if((-9223372036854775808n+BigInt(s))/10n<=e[l]){e[l]=e[l]*10n-BigInt(s)}else{integerOutOfRangeError_721420613()}o+=1;l:{r:while(true){if(!(o<n.length&&n[chckIndx(o,0,n.length-1)]==95))break r;o+=1}}}}if(i==-1n&&e[l]==-9223372036854775808n){integerOutOfRangeError_721420613()}else{e[l]=e[l]*i;a=o}}return a}function npuParseBiggestInt(n,e,l){var r=0;var t=[0n];r=rawParseInt_721420651(n,t,0);if(!(r==0)){e[l]=t[0]}return r}function npuParseInt(n,e,l){var r=0;var t=[0n];r=npuParseBiggestInt(n,t,0);if(t[0]<-2147483648n||2147483647n<t[0]){integerOutOfRangeError_721420613()}if(!(r==0)){e[l]=chckRange(Number(t[0]),-2147483648,2147483647)}return r}function parseInt_721421231(n,e,l,r){var t=0;t=npuParseInt(n.slice(r,n.length-1+1),e,l);return t}function nsuParseInt(n){var e=[0];e[0]=0;var l=parseInt_721421231(n,e,0,0);if(!(l==n.length)||l==0){raiseException({message:([105,110,118,97,108,105,100,32,105,110,116,101,103,101,114,58,32]||[]).concat(n||[]),parent:null,m_type:NTI134217746,name:null,trace:[],up:null},"ValueError")}return e[0]}function disableBoard_536871191(){var n=document.getElementsByClassName("button-option");n:{var e=null;var l=0;var r=n.length;e:{l:while(true){if(!(l<r))break l;e=n[chckIndx(l,0,n.length-1)];e.disabled=true;l=addInt(l,1);if(!(n.length==r)){failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}}}function contains_536871270(n,e){var l=false;l=n.a<=e&&e<=n.b;return l}function HEX2EHEX2E_1023410224(n,e){var l={a:0,b:0};l=nimCopy(l,{a:n,b:e},NTI754974789);return l}function rowcolFromIdx_536871260(n){var e;var l={Field0:0,Field1:0};if(contains_536871270(HEX2EHEX2E_1023410224(0,2),n)){e={Field0:0,Field1:n}}else{if(contains_536871270(HEX2EHEX2E_1023410224(3,5),n)){e={Field0:1,Field1:subInt(n,3)}}else{e={Field0:2,Field1:subInt(n,6)}}}l=nimCopy(l,e,NTI536871139);return l}function updateInternalBoard_536871290(n){var e=document.getElementsByClassName("button-option");n:{var l=0;var r=0;e:{l:while(true){if(!(r<=8))break l;l=r;var t=rowcolFromIdx_536871260(l);var a=t["Field0"];var i=t["Field1"];switch(toJSStr(cstrToNimstr(e[chckIndx(l,0,e.length-1)].innerText))){case"X":board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)][chckIndx(i,0,board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)].length-1)]=1;break;case"O":board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)][chckIndx(i,0,board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)].length-1)]=2;break;default:board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)][chckIndx(i,0,board_536870926[0][chckIndx(a,0,board_536870926[0].length-1)].length-1)]=0;break}r=addInt(r,1)}}}}function addQuoted_536871463(n,e,l){n[e].push.apply(n[e],reprEnum(l,NTI536870915))}function collectionToString_536871447(n,e,l,r){var t=[[]];t[0]=nimCopy(null,e,NTI33554449);var a=true;n:{var i=0;var o=0;e:{l:while(true){if(!true)break l;i=n[o];if(a){a=false}else{t[0].push.apply(t[0],l)}addQuoted_536871463(t,0,i);if(2<=o){break e}o+=1}}}t[0].push.apply(t[0],r);return t[0]}function HEX24_536871442(n){var e=[];e=nimCopy(null,collectionToString_536871447(n,[91],[44,32],[93]),NTI33554449);return e}function addQuoted_536871434(n,e,l){n[e].push.apply(n[e],HEX24_536871442(l))}function collectionToString_536871418(n,e,l,r){var t=[[]];t[0]=nimCopy(null,e,NTI33554449);var a=true;n:{var i=new Uint8Array(3);var o=0;e:{l:while(true){if(!true)break l;i=nimCopy(i,n[o],NTI536870923);if(a){a=false}else{t[0].push.apply(t[0],l)}addQuoted_536871434(t,0,i);if(2<=o){break e}o+=1}}}t[0].push.apply(t[0],r);return t[0]}function HEX24_536871413(n){var e=[];e=nimCopy(null,collectionToString_536871418(n,[91],[44,32],[93]),NTI33554449);return e}function HEX3DHEX3D_536870960(n,e){var l=false;n:{e:{var r=0;var t=0;l:{r:while(true){if(!(t<=2))break r;r=chckRange(t,0,2);if(!(n[chckIndx(r,0,n.length-1)]==e[chckIndx(r,0,e.length-1)])){break n}t=addInt(t,1)}}}l=true}return l}function checkWin_536870929(n,e){var l=false;n:{e:{var r=new Uint8Array(3);var t=0;l:{r:while(true){if(!true)break r;r=nimCopy(r,n[chckIndx(t,0,n.length-1)],NTI536870923);if(HEX3DHEX3D_536870960(r,new Uint8Array([e,e,e]))){l=true;break n}if(2<=t){break l}t=addInt(t,1)}}}e:{var a=0;var i=0;l:{r:while(true){if(!(i<=2))break r;a=i;if(n[chckIndx(0,0,n.length-1)][chckIndx(a,0,n[chckIndx(0,0,n.length-1)].length-1)]==e&&n[chckIndx(1,0,n.length-1)][chckIndx(a,0,n[chckIndx(1,0,n.length-1)].length-1)]==e&&n[chckIndx(2,0,n.length-1)][chckIndx(a,0,n[chckIndx(2,0,n.length-1)].length-1)]==e){l=true;break n}i=addInt(i,1)}}}if(n[chckIndx(0,0,n.length-1)][chckIndx(0,0,n[chckIndx(0,0,n.length-1)].length-1)]==e&&n[chckIndx(1,0,n.length-1)][chckIndx(1,0,n[chckIndx(1,0,n.length-1)].length-1)]==e&&n[chckIndx(2,0,n.length-1)][chckIndx(2,0,n[chckIndx(2,0,n.length-1)].length-1)]==e){l=true;break n}if(n[chckIndx(0,0,n.length-1)][chckIndx(2,0,n[chckIndx(0,0,n.length-1)].length-1)]==e&&n[chckIndx(1,0,n.length-1)][chckIndx(1,0,n[chckIndx(1,0,n.length-1)].length-1)]==e&&n[chckIndx(2,0,n.length-1)][chckIndx(0,0,n[chckIndx(2,0,n.length-1)].length-1)]==e){l=true;break n}}return l}function emptyCells_536871064(n){var e=0;n:{var l=new Uint8Array(3);var r=0;e:{l:while(true){if(!true)break l;l=nimCopy(l,n[chckIndx(r,0,n.length-1)],NTI536870923);r:{var t=0;var a=0;t:{a:while(true){if(!true)break a;t=l[chckIndx(a,0,l.length-1)];if(t==0){e=addInt(e,1)}if(2<=a){break t}a=addInt(a,1)}}}if(2<=r){break e}r=addInt(r,1)}}}return e}function checkDraw_536871124(n){var e=false;e=emptyCells_536871064(n)==0;return e}function gameEnded_536871189(){var n=false;n=checkWin_536870929(board_536870926[0],computer_536870928[0])||checkWin_536870929(board_536870926[0],player_536870927[0])||checkDraw_536871124(board_536870926[0]);return n}function max_33555631(n,e){var l;var r=0;if(e<=n||!(e==e)){l=n}else{l=e}r=l;return r}function min_33555598(n,e){var l;var r=0;if(n<=e||!(e==e)){l=n}else{l=e}r=l;return r}function minimax_536871127(n,e,l,r){var t=0;n:{var a=nimCopy(null,n,NTI536870916);if(checkWin_536870929(a,computer_536870928[0])){t=1*addInt(emptyCells_536871064(a),1);break n}else{if(checkWin_536870929(a,player_536870927[0])){t=-1*addInt(emptyCells_536871064(a),1);break n}else{if(checkDraw_536871124(a)||e==r){t=0;break n}}}if(l){var i=-Infinity;e:{var o=0;var s=0;l:{r:while(true){if(!(s<=2))break r;o=s;t:{var d=0;var u=0;a:{i:while(true){if(!(u<=2))break i;d=u;if(a[chckIndx(o,0,a.length-1)][chckIndx(d,0,a[chckIndx(o,0,a.length-1)].length-1)]==0){a[chckIndx(o,0,a.length-1)][chckIndx(d,0,a[chckIndx(o,0,a.length-1)].length-1)]=computer_536870928[0];var c=minimax_536871127(a,addInt(e,1),false,r);a[chckIndx(o,0,a.length-1)][chckIndx(d,0,a[chckIndx(o,0,a.length-1)].length-1)]=0;i=max_33555631(i,c)}u=addInt(u,1)}}}s=addInt(s,1)}}}t=i;break n}else{var f=Infinity;e:{var h=0;var I=0;l:{r:while(true){if(!(I<=2))break r;h=I;t:{var k=0;var v=0;a:{i:while(true){if(!(v<=2))break i;k=v;if(a[chckIndx(h,0,a.length-1)][chckIndx(k,0,a[chckIndx(h,0,a.length-1)].length-1)]==0){a[chckIndx(h,0,a.length-1)][chckIndx(k,0,a[chckIndx(h,0,a.length-1)].length-1)]=player_536870927[0];var g=minimax_536871127(a,addInt(e,1),true,r);a[chckIndx(h,0,a.length-1)][chckIndx(k,0,a[chckIndx(h,0,a.length-1)].length-1)]=0;f=min_33555598(f,g)}v=addInt(v,1)}}}I=addInt(I,1)}}}t=f;break n}}return t}function getOptimalMove_536871166(n,e){var l={Field0:0,Field1:0};var r=nimCopy(null,n,NTI536870916);var t=-Infinity;n:{var a=0;var i=0;e:{l:while(true){if(!(i<=2))break l;a=i;r:{var o=0;var s=0;t:{a:while(true){if(!(s<=2))break a;o=s;i:{if(!(r[chckIndx(a,0,r.length-1)][chckIndx(o,0,r[chckIndx(a,0,r.length-1)].length-1)]==0)){break i}r[chckIndx(a,0,r.length-1)][chckIndx(o,0,r[chckIndx(a,0,r.length-1)].length-1)]=computer_536870928[0];var d=minimax_536871127(r,0,false,e);r[chckIndx(a,0,r.length-1)][chckIndx(o,0,r[chckIndx(a,0,r.length-1)].length-1)]=0;if(t<d){t=d;var u=a;var c=o;l=nimCopy(l,{Field0:u,Field1:c},NTI536871071)}}s=addInt(s,1)}}}i=addInt(i,1)}}}return l}function displayBoard_536871301(n){var e=document.getElementsByClassName("button-option");n:{var l=0;var r=0;e:{l:while(true){if(!(r<=8))break l;l=r;var t=rowcolFromIdx_536871260(l);var a=t["Field0"];var i=t["Field1"];switch(n[chckIndx(a,0,n.length-1)][chckIndx(i,0,n[chckIndx(a,0,n.length-1)].length-1)]){case 1:e[chckIndx(l,0,e.length-1)].innerText="X";break;case 2:e[chckIndx(l,0,e.length-1)].innerText="O";break;default:e[chckIndx(l,0,e.length-1)].innerText="";break}r=addInt(r,1)}}}}function enableBoard_536871248(){var n=document.getElementsByClassName("button-option");n:{var e=null;var l=0;var r=n.length;e:{l:while(true){if(!(l<r))break l;e=n[chckIndx(l,0,n.length-1)];if(e.innerText==""){e.disabled=false}l=addInt(l,1);if(!(n.length==r)){failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}}}function victoryHighlight_536871316(n){var e=document.getElementsByClassName("button-option");n:{var l=null;var r=0;var t=e.length;e:{l:while(true){if(!(r<t))break l;l=e[chckIndx(r,0,e.length-1)];if(eqStrings(cstrToNimstr(l.innerText),reprEnum(n,NTI536870915))||n==0){if(n==2){l.style.color="cyan"}else{if(n==1){l.style.color="red"}else{l.style.color="#C8C8C8"}}}r=addInt(r,1);if(!(e.length==t)){failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}}}function gameEnd_536871338(){if(gameEnded_536871189()){disableBoard_536871191();if(checkWin_536870929(board_536870926[0],player_536870927[0])){confetti.start(2e3,minConfetti|0,maxConfetti|0);victoryHighlight_536871316(player_536870927[0]);rawEcho([89,111,117,32,104,97,118,101,32,119,111,110,33])}else{if(checkWin_536870929(board_536870926[0],computer_536870928[0])){confetti.start(2e3,minConfetti|0,maxConfetti|0);victoryHighlight_536871316(computer_536870928[0]);rawEcho([84,104,101,32,65,73,32,104,97,115,32,119,111,110,33])}else{confetti.start(500,0,15);victoryHighlight_536871316(0);rawEcho([84,104,101,32,103,97,109,101,32,104,97,115,32,101,110,100,101,100,32,105,110,32,97,32,100,114,97,119,33])}}}}function HEX3Aanonymous_536871344(n){function e(){n:{if(gameEnded_536871189()){break n}var n=getOptimalMove_536871166(board_536870926[0],l);board_536870926[0][chckIndx(n.Field0,0,board_536870926[0].length-1)][chckIndx(n.Field1,0,board_536870926[0][chckIndx(n.Field0,0,board_536870926[0].length-1)].length-1)]=computer_536870928[0];displayBoard_536871301(board_536870926[0]);rawEcho(HEX24_536871413(board_536870926[0]));enableBoard_536871248();gameEnd_536871338()}}n:{if(!(n.target.innerText=="")){break n}var l=nsuParseInt(cstrToNimstr(document.getElementById("depth").value));disableBoard_536871191();n.target.innerText=toJSStr(reprEnum(player_536870927[0],NTI536870915));updateInternalBoard_536871290(board_536870926[0]);rawEcho(HEX24_536871413(board_536870926[0]));n.target.disabled=true;var r=setTimeout(e,1);gameEnd_536871338()}}var maxConfetti=400;var minConfetti=200;var board_536870926=[[new Uint8Array(3),new Uint8Array(3),new Uint8Array(3)]];var player_536870927=[2];var computer_536870928=[1];var cells_536871339=document.getElementsByClassName("button-option");n:{var cell_536871343=[null];var i_536871583=0;var L_536871584=cells_536871339.length;e:{l:while(true){if(!(i_536871583<L_536871584))break l;cell_536871343[0]=cells_536871339[chckIndx(i_536871583,0,cells_536871339.length-1)];cell_536871343[0].addEventListener("click",HEX3Aanonymous_536871344,false);i_536871583=addInt(i_536871583,1);if(!(cells_536871339.length==L_536871584)){failedAssertImpl_268435541(makeNimstrLit("iterators.nim(246, 11) `len(a) == L` the length of the seq changed while iterating over it"))}}}}